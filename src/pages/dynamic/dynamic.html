<ion-header no-border>
  <ion-navbar color="white">
    <ion-title (click)="onClickTop()">干部动态</ion-title>
    <ion-buttons right>
      <button ion-button (click)="onClickSearch();" class="searchBtn">
        <img src="assets/imgs/search@3x.png" />
      </button>
      <button ion-button (click)="onClikeCreate();">
        <img src="assets/imgs/edit@3x.png" />
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content>
  <ion-buttons class="btn-tabs">
    <button [class.active]="tabIndex==0" [class.has-new]="tabIndex!=0&&storage.newDynamicAttention?' ':''" (click)="selectTab(0)">关注</button>
    <button [class.active]="tabIndex==1" [class.has-new]="tabIndex!=1&&storage.newDynamicUnit?' ':''" (click)="selectTab(1)">本单位</button>
    <button [class.active]="tabIndex==2" (click)="selectTab(2)">推荐</button>
    <button [class.active]="tabIndex==3" [class.has-new]="tabIndex!=3&&storage.newDynamicLeader?' ':''" (click)="selectTab(3)">领导批赞</button>
    <div class="btn-effect" [style]="styleEffect()"></div>
  </ion-buttons>
  <ion-slides #slides (ionSlideDidChange)="onSlideChanged($event)">
    <ion-slide *ngFor="let tab of tabs">
      <page-dynamic-list [hasRefresher]="tab.hasRefresher"
        [hasInfinite]="tab.hasInfinite"
        [getListPromise]="tab.getListPromise"
        [onLoad]="tab.onLoad"
        [eventEmitter]="tab.eventEmitter"></page-dynamic-list>
    </ion-slide>
  </ion-slides>
</ion-content>
