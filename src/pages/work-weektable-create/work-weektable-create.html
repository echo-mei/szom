<ion-header no-border>

  <ion-navbar color="white">
    <ion-title>创建工作周表</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <div class="separate"></div>
  <form [formGroup]="weektableForm">
    <ion-list>
      <ion-item>
        <ion-label>日期</ion-label>
        <ion-datetime formControlName="workDateStr" displayFormat="YYYY年MM月DD日 DDD" [max]="timeMax" pickerFormat="YYYY MM DD/DDD"
          placeholder="请选择" cancelText="取消" doneText="确认" dayShortNames="星期日, 星期一, 星期二, 星期三, 星期四, 星期五, 星期六"></ion-datetime>
        <ion-icon item-end class="szom" name="md-you"></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label>时间</ion-label>
        <ion-multi-picker formControlName="dayPeriod" placeholder="请选择" item-content [multiPickerColumns]="dayPeriodControls" doneText="确定"
          cancelText="取消"></ion-multi-picker>
        <ion-icon item-end class="szom" name="md-you"></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label>类型</ion-label>
        <ion-multi-picker formControlName="weektableTypeCode" placeholder="请选择" item-content [multiPickerColumns]="weektableTypeControls"
          doneText="确定" cancelText="取消"></ion-multi-picker>
        <ion-icon item-end class="szom" name="md-you"></ion-icon>
      </ion-item>
      <ion-item class="w-textarea">
        <ion-label *ngIf="!weektableForm.hasError('maxlength', 'content')">{{weektableForm.controls['content'].value.length}}</ion-label>
        <ion-label class="error" *ngIf="weektableForm.hasError('maxlength', 'content')">超出{{weektableForm.controls['content'].value.length-maxLength}}字</ion-label>
        <ion-textarea autosize formControlName="content" name="content" placeholder="请输入您的工作内容..."></ion-textarea>
      </ion-item>
    </ion-list>
    <button class="post-button" ion-button block (click)="postWeektableCreate()" [disabled]="weektableForm.invalid|| weektableForm.controls['content'].value.length>maxLength
    || (weektableForm.controls['content'].value&&weektableForm.controls['content'].value.trim()==='')">发布</button>
  </form>
</ion-content>
